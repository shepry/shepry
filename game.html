<!DOCTYPE html>

<html lang="en">

<head>

Â  Â  <meta charset="UTF-8">

Â  Â  <meta http-equiv="X-UA-Compatible" content="IE=edge">

Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">

Â  Â  <title>Rocket Game</title>

Â  Â  <style>

Â  Â  Â  Â  body {

Â  Â  Â  Â  Â  Â  background-color: #1f1e25;

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;

Â  Â  Â  Â  Â  Â  margin: 0;

Â  Â  Â  Â  Â  Â  padding: 20px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #gameContainer {

Â  Â  Â  Â  Â  Â  position: relative;

Â  Â  Â  Â  Â  Â  margin-bottom: 20px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #game {

Â  Â  Â  Â  Â  Â  width: 600px;

Â  Â  Â  Â  Â  Â  height: 500px;

Â  Â  Â  Â  Â  Â  background-color: #2c2b33;

Â  Â  Â  Â  }

Â  Â  Â  Â  #currentMultiplier {

Â  Â  Â  Â  Â  Â  position: absolute;

Â  Â  Â  Â  Â  Â  top: 130px;

Â  Â  Â  Â  Â  Â  left: 90px;

Â  Â  Â  Â  Â  Â  font-size: 50px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #infoContainer {

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  justify-content: space-between;

Â  Â  Â  Â  Â  Â  align-items: center;

Â  Â  Â  Â  Â  Â  margin-bottom: 10px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #balance {

Â  Â  Â  Â  Â  Â  color: lime;

Â  Â  Â  Â  Â  Â  font-weight: bold;

Â  Â  Â  Â  Â  Â  margin-right: 5px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #crashedAt {

Â  Â  Â  Â  Â  Â  margin-right: 5px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #betContainer {

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  align-items: center;

Â  Â  Â  Â  Â  Â  margin-bottom: 10px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #betAmount {

Â  Â  Â  Â  Â  Â  width: 40px;

Â  Â  Â  Â  Â  Â  padding: 5px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #buttonContainer {

Â  Â  Â  Â  Â  Â  margin-bottom: 10px;

Â  Â  Â  Â  Â  Â  width: 400px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #takeProfits,

Â  Â  Â  Â  #mpesaPayment {

Â  Â  Â  Â  Â  Â  padding: 10px 20px;

Â  Â  Â  Â  Â  Â  font-size: 16px;

Â  Â  Â  Â  Â  Â  background-color: #4caf50;

Â  Â  Â  Â  Â  Â  border: none;

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease;

Â  Â  Â  Â  }

Â  Â  Â  Â  #takeProfits:hover,

Â  Â  Â  Â  #mpesaPayment:hover {

Â  Â  Â  Â  Â  Â  background-color: #45a049;

Â  Â  Â  Â  }

Â  Â  Â  Â  #lastCrashesContainer {

Â  Â  Â  Â  Â  Â  margin-bottom: 20px;

Â  Â  Â  Â  Â  Â  overflow-x: auto;

Â  Â  Â  Â  Â  Â  white-space: nowrap;

Â  Â  Â  Â  }

Â  Â  Â  Â  #lastCrashesContainer p {

Â  Â  Â  Â  Â  Â  font-weight: bold;

Â  Â  Â  Â  }

Â  Â  Â  Â  #lastCrashes {

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  gap: 10px;

Â  Â  Â  Â  }

Â  Â  Â  Â  .crashItem {

Â  Â  Â  Â  Â  Â  display: inline-block;

Â  Â  Â  Â  Â  Â  padding: 5px;

Â  Â  Â  Â  Â  Â  border: 1px solid #444;

Â  Â  Â  Â  Â  Â  border-radius: 5px;

Â  Â  Â  Â  }

Â  Â  Â  Â  #countdown {

Â  Â  Â  Â  Â  Â  font-size: 30px;

Â  Â  Â  Â  Â  Â  color: yellow;

Â  Â  Â  Â  Â  Â  margin-bottom: 20px;

Â  Â  Â  Â  }

Â  Â  </style>

</head>

<body>



Â  Â  <div id="lastCrashesContainer">

Â  Â  Â  Â  <p>Last Crashes:</p>

Â  Â  Â  Â  <div id="lastCrashes"></div>

Â  Â  </div>



Â  Â  <div id="countdown">Starting in: 5</div>



Â  Â  <div id="gameContainer">

Â  Â  Â  Â  <canvas id="game" width="600" height="500"></canvas>

Â  Â  Â  Â  <p id="currentMultiplier">0.0x</p>

Â  Â  </div>



Â  Â  <div id="infoContainer">

Â  Â  Â  Â  <div style="display: flex;">

Â  Â  Â  Â  Â  Â  <p id="balance">?</p>

Â  Â  Â  Â  Â  Â  <p id="crashedAt">Multiplier at crash:</p>

Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="betContainer">

Â  Â  Â  Â  Â  Â  <label for="betAmount">Bet Amount:</label>

Â  Â  Â  Â  Â  Â  <input type="number" id="betAmount" value="1">

Â  Â  Â  Â  </div>

Â  Â  </div>



Â  Â  <div id="buttonContainer">

Â  Â  Â  Â  <button id="takeProfits">Take Profits</button>

Â  Â  Â  Â  <button id="mpesaPayment">Pay with M-Pesa</button>

Â  Â  </div>



Â  Â  <script>

Â  Â  Â  Â  const canvas = document.getElementById('game');

Â  Â  Â  Â  const ctx = canvas.getContext('2d');

Â  Â  Â  Â  ctx.strokeStyle = 'blue';

Â  Â  Â  Â  ctx.lineWidth = 2;



Â  Â  Â  Â  let speed = 0.01;

Â  Â  Â  Â  let curvePoints = [];

Â  Â  Â  Â  let gameLoop;

Â  Â  Â  Â  let crashed = false;

Â  Â  Â  Â  let balance = 1000;

Â  Â  Â  Â  let betAmount;

Â  Â  Â  Â  let profitsTaken = false;

Â  Â  Â  Â  let rocketPosition;



Â  Â  Â  Â  const balanceDisplay = document.getElementById('balance');

Â  Â  Â  Â  balanceDisplay.innerText = balance + '$';

Â  Â  Â  Â  const betAmountInput = document.getElementById('betAmount');



Â  Â  Â  Â  function updateCurve() {

Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, canvas.width, canvas.height);

Â  Â  Â  Â  Â  Â  ctx.beginPath();

Â  Â  Â  Â  Â  Â  for (let i = 0; i < curvePoints.length; i++) {

Â  Â  Â  Â  Â  Â  Â  Â  const { x, y } = curvePoints[i];

Â  Â  Â  Â  Â  Â  Â  Â  ctx.lineTo(x, y);

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  ctx.stroke();

Â  Â  Â  Â  Â  Â  if (!crashed) {

Â  Â  Â  Â  Â  Â  Â  Â  const lastPoint = curvePoints[curvePoints.length - 1];

Â  Â  Â  Â  Â  Â  Â  Â  ctx.font = '30px Arial';

Â  Â  Â  Â  Â  Â  Â  Â  ctx.fillText('ðŸš€', lastPoint.x, lastPoint.y - 10);

Â  Â  Â  Â  Â  Â  Â  Â  rocketPosition = { x: lastPoint.x, y: lastPoint.y };

Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  const crashPosition = { x: rocketPosition.x, y: rocketPosition.y - 10 };

Â  Â  Â  Â  Â  Â  Â  Â  ctx.font = '30px Arial';

Â  Â  Â  Â  Â  Â  Â  Â  ctx.fillText('ðŸ’¥', crashPosition.x, crashPosition.y);

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }



Â  Â  Â  Â  function updateCurvePoints() {

Â  Â  Â  Â  Â  Â  if (!crashed) {

Â  Â  Â  Â  Â  Â  Â  Â  const lastPoint = curvePoints[curvePoints.length - 1];

Â  Â  Â  Â  Â  Â  Â  Â  const newX = lastPoint.x + 1;

Â  Â  Â  Â  Â  Â  Â  Â  const newY = canvas.height - (Math.pow(newX, 1.75) / 100);

Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('currentMultiplier').innerText = (curvePoints.length / 100).toFixed(2) + 'x';

Â  Â  Â  Â  Â  Â  Â  Â  curvePoints.push({ x: newX, y: newY });

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }



Â  Â  Â  Â  function startGame() {

Â  Â  Â  Â  Â  Â  curvePoints = [{ x: 0, y: canvas.height }];

Â  Â  Â  Â  Â  Â  crashed = false;

Â  Â  Â  Â  Â  Â  profitsTaken = false;

Â  Â  Â  Â  Â  Â  updateCurve();

Â  Â  Â  Â  Â  Â  gameLoop = setInterval(() => {

Â  Â  Â  Â  Â  Â  Â  Â  updateCurvePoints();

Â  Â  Â  Â  Â  Â  Â  Â  updateCurve();

Â  Â  Â  Â  Â  Â  }, 16);

Â  Â  Â  Â  Â  Â  setTimeout(() => crashCurve(betAmountInput.value), getRandomCrashTime(1, 5.5));

Â  Â  Â  Â  }



Â  Â  Â  Â  function getRandomCrashTime(min, max) {

Â  Â  Â  Â  Â  Â  const randomDecimal = Math.random();

Â  Â  Â  Â  Â  Â  return (randomDecimal * (max - min) + min) * 1000;

Â  Â  Â  Â  }



Â  Â  Â  Â  function crashCurve(betAmount) {

Â  Â  Â  Â  Â  Â  clearInterval(gameLoop);

Â  Â  Â  Â  Â  Â  crashed = true;

Â  Â  Â  Â  Â  Â  const crashValue = (curvePoints.length / 100).toFixed(2);

Â  Â  Â  Â  Â  Â  document.getElementById('crashedAt').innerText = `Multiplier at crash: ${crashValue}`;

Â  Â  Â  Â  Â  Â  const crash = document.createElement('div');

Â  Â  Â  Â  Â  Â  crash.className = 'crashItem';

Â  Â  Â  Â  Â  Â  crash.innerText = crashValue;

Â  Â  Â  Â  Â  Â  crash.style.color = profitsTaken ? 'lime' : 'red';

Â  Â  Â  Â  Â  Â  document.getElementById('lastCrashes').appendChild(crash);

Â  Â  Â  Â  Â  Â  updateCurve();



Â  Â  Â  Â  Â  Â  // Remove the first crash item if it goes out of the view

Â  Â  Â  Â  Â  Â  const crashItems = document.getElementsByClassName('crashItem');

Â  Â  Â  Â  Â  Â  if (crashItems.length > 5) { // Adjust the number based on how many items you want to display

Â  Â  Â  Â  Â  Â  Â  Â  crashItems[0].remove();

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  // Restart the game after 3 seconds

Â  Â  Â  Â  Â  Â  setTimeout(initiateCountdown, 3000);

Â  Â  Â  Â  }



Â  Â  Â  Â  function initiateCountdown() {

Â  Â  Â  Â  Â  Â  let countdownValue = 5;

Â  Â  Â  Â  Â  Â  const countdownElement = document.getElementById('countdown');

Â  Â  Â  Â  Â  Â  countdownElement.style.display = 'block';

Â  Â  Â  Â  Â  Â  countdownElement.innerText = `Starting in: ${countdownValue}`;

Â  Â  Â  Â  Â  Â  const countdownInterval = setInterval(() => {

Â  Â  Â  Â  Â  Â  Â  Â  countdownValue -= 1;

Â  Â  Â  Â  Â  Â  Â  Â  countdownElement.innerText = `Starting in: ${countdownValue}`;

Â  Â  Â  Â  Â  Â  Â  Â  if (countdownValue <= 0) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(countdownInterval);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countdownElement.style.display = 'none';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startGame();

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }, 1000);

Â  Â  Â  Â  }



Â  Â  Â  Â  document.getElementById('takeProfits').addEventListener('click', function () {

Â  Â  Â  Â  Â  Â  if (!crashed && !profitsTaken) {

Â  Â  Â  Â  Â  Â  Â  Â  profitsTaken = true;

Â  Â  Â  Â  Â  Â  Â  Â  const profit = (betAmount * (curvePoints.length / 100)) - betAmount;

Â  Â  Â  Â  Â  Â  Â  Â  balance += (betAmount * (curvePoints.length / 100));

Â  Â  Â  Â  Â  Â  Â  Â  balanceDisplay.innerText = balance.toFixed(2) + '$';

Â  Â  Â  Â  Â  Â  Â  Â  console.log(`Took profits, multiplier: ${(curvePoints.length / 100).toFixed(2)}, profit: ${profit}`);

Â  Â  Â  Â  Â  Â  } else if (profitsTaken) {

Â  Â  Â  Â  Â  Â  Â  Â  console.log('Profits already taken');

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });



Â  Â  Â  Â  document.getElementById('mpesaPayment').addEventListener('click', function() {

Â  Â  Â  Â  Â  Â  const amount = betAmount; // Use the current bet amount

Â  Â  Â  Â  Â  Â  const phoneNumber = prompt("Enter your phone number:");



Â  Â  Â  Â  Â  Â  if (phoneNumber) {

Â  Â  Â  Â  Â  Â  Â  Â  fetch('/initiate-mpesa-payment', {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Content-Type': 'application/json',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  amount: amount,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phone: phoneNumber

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }),

Â  Â  Â  Â  Â  Â  Â  Â  })

Â  Â  Â  Â  Â  Â  Â  Â  .then(response => response.json())

Â  Â  Â  Â  Â  Â  Â  Â  .then(data => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('M-Pesa payment response:', data);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Payment successful!");

Â  Â  Â  Â  Â  Â  Â  Â  })

Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("An error occurred while initiating the payment.");

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });



Â  Â  Â  Â  // Start the countdown and then the game

Â  Â  Â  Â  initiateCountdown();

Â  Â  </script>

</body>

</html>



Show drafts
